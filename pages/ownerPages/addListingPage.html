<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      href="../userPages/Assets/fevicon.svg"
      type="image/svg+xml"
    />
    <title>Parking Spot Management</title>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <script src="https://unpkg.com/@geoapify/geocoder-autocomplete@1.0.0/dist/geocoder-autocomplete.min.js"></script>

    <link
      rel="stylesheet"
      href="https://unpkg.com/@geoapify/geocoder-autocomplete@1.0.0/dist/geocoder-autocomplete.min.css"
    />

    <link rel="stylesheet" href="css/addListing.css" />
    <script type="module" src="addListingPage.js" defer></script>

    <!-- <script type="module" src="addL.js" defer></script> -->
  </head>
  <body>
    <nav class="navbar">
      <div class="nav-container">
        <a href="#" class="nav-logo">
          <img src="../userPages/Assets/Logo-FullSize.svg" alt="Logo" />
        </a>
        <a href="ownerHomePage.html" class="nav-back-btn">Back to Homepage</a>
      </div>
    </nav>
    <div class="listings">
      <div class="container">
      <div class="section">
        <h2 class="section-title">Add Listing</h2>

        <div class="form-group">
          <label for="name">Parking Spot Name</label>
          <input type="text" id="name" placeholder="Enter parking spot name" />
        </div>

        <div class="form-group">
          <label for="location">Parking Spot Location</label>
          <input
            type="text"
            id="autocomplete"
            placeholder="Type a location..."
          />
          <div id="suggestions"></div>

          <!-- <input type="text" id="location" placeholder="Enter location"> -->
        </div>

        <div class="form-group">
          <label for="description">Parking Spot Description</label>
          <textarea
            id="description"
            placeholder="Enter Description of your parking spot"
            rows="8"
          ></textarea>
        </div>

        <div class="form-group">
          <label for="price">Parking Spot Price (per hour)</label>
          <input type="number" id="price" placeholder="Enter price in CAD" />
        </div>

        <!-- <div class="upload-container">
          <div class="custom-upload">
            <input type="file" id="file-input" />
            <label for="file-input">Choose File</label>
            <span class="file-name" id="file-name">No file chosen</span>
          </div>
        </div>
        <div class="buttonContainer">
          <button
            class="upload-button"
            id="upload-btn"
            onclick="uploadImage()"
            disabled
          >
            Upload Image
          </button>
        </div> -->

        <div class="upload-container">
          <div class="custom-upload">
            <input type="file" id="file-input" />
            <label for="file-input">Choose File</label>
            <span class="file-name" id="file-name">No file chosen</span>
          </div>
          <div class="media-buttons">
            <button type="button" id="cameraButton">Use Camera</button>
          </div>
        </div>
        
       
        <video id="cameraFeed" style="display: none;"></video>
        <canvas id="canvas" style="display: none;"></canvas>
        <img id="preview" src="" alt="Image Preview" style="display: none;" />
        
        <div class="buttonContainer">
          <button class="upload-button" id="upload-btn" onclick="uploadImage()" disabled>
            Upload Image
          </button>
        </div>
        <!-- <div class="imgContainer" id="imgContainer"></div> -->

        <!-- <div class="form-group">
          <label>Parking Spot Image</label>
          <input type="file" id="fileInput" accept="image/*" />
          <div class="media-buttons">
            <button id="cameraButton">Use Camera</button>
          </div>
          <img id="preview" src="" alt="Image Preview" style="display: none" />
          <video id="cameraFeed"></video>
          <canvas id="canvas" style="display: none"></canvas>
        </div> -->
      </div>
      <!-- <div class="form-group"> -->
      <!-- <label>Features</label>
            <div class="features-group">
                <label class="feature-item">
                    <input type="checkbox" name="features" value="covered">
                    Covered
                </label>
                <label class="feature-item">
                    <input type="checkbox" name="features" value="ev_charging">
                    EV Charging
                </label>
            </div> -->
      <div class="form-group">
        <label>Available</label>
        <div class="toggle-container">
          <label class="toggle-switch">
            <input type="checkbox" id="availabilityToggle" />
            <span class="slider"></span>
          </label>
          <span id="availabilityStatus">Not Available</span>
        </div>
      </div>

      <div class="form-group">
        <label>Weekly Availability</label>
        <div class="day-container" id="availabilityContainer">
          <!-- Days will be added dynamically -->
        </div>
        <div
          id="availabilityError"
          class="error-message"
          style="display: none"
        ></div>
      </div>

      <div class="section">
        <button type="submit" class="update-btn">Add Listing</button>
      </div>
    </div>
  </body>
</html>
