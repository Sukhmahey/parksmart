<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
      rel="icon"
      href="../userPages/Assets/fevicon.svg"
      type="image/svg+xml"
    />
    <title>Edit Parking Spot</title>
    <script src="https://unpkg.com/@geoapify/geocoder-autocomplete@1.5.1/dist/index.min.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js"></script>
    <link rel="stylesheet" href="https://unpkg.com/@geoapify/geocoder-autocomplete@1.5.1/styles/minimal.css">

    <link rel="stylesheet" href="css/editListing.css">
    <!-- <script type="module" src="edit-listing.js" defer></script> -->

    <script type="module" src="edit-new-list.js" defer></script>
     

</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="#" class="nav-logo">
                <img src="../userPages/Assets/Logo-FullSize.svg" alt="Logo" />
            </a>
            <a href="ownerHomePage.html" class="nav-back-btn">Back to Homepage</a>
        </div>
    </nav>
    <div class="container">
        <div class="section">
            <h2 class="section-title">Edit Listing</h2>
            
            <div class="form-group">
                <label for="name">Parking Spot Name</label>
                <input type="text" id="name" placeholder="Enter parking spot name">
            </div>

            <div class="form-group">
                <label for="location">Parking Spot Location</label>
                <input type="text" id="autocomplete" placeholder="Type a location...">
                <div id="suggestions"></div>
            </div>

            <div class="form-group">
                <label for="description">Parking Spot Description</label>
                <textarea
                    id="description"
                    placeholder="Enter Description of your parking spot"
                    rows="8"
                ></textarea>
            </div>

            <div class="form-group">
                <label for="price">Parking Spot Price (per hour)</label>
                <input type="number" id="price" placeholder="Enter price in CAD">
            </div>

            <div class="form-group" id="parkingSpotImage">
                
               

    <label>Parking Spot Image</label>
    <!-- <div class="upload-container">
        <div class="custom-upload">
            <input type="file" id="fileInput" accept="image/*">
            <label for="fileInput">Choose File</label>
            <span class="file-name" id="fileName">No file chosen</span>
        </div>
        <div class="media-buttons">
            <button type="button" id="cameraButton">Use Camera</button>
        </div>
    </div> -->
    
    <div class="upload-container">
        <div class="media-buttons">
          <span id="pre-labels">
            <div class="custom-upload">
                <input type="file" id="fileInput" accept="image/*" style="display: none;">
              <label for="fileInput" ><svg xmlns="http://www.w3.org/2000/svg"  class="icons-media" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="512" height="3rem"><path d="M18.348,7.23c-1.311-3.151-4.395-5.23-7.848-5.23C5.813,2,2,5.813,2,10.5c0,.551,.053,1.097,.157,1.633-1.347,1.032-2.157,2.646-2.157,4.367,0,3.032,2.243,5.5,5,5.5h11.5c4.136,0,7.5-3.364,7.5-7.5,0-3.467-2.344-6.436-5.652-7.27Zm-3.055,7.062l-2.293-2.293v6h-2v-6l-2.293,2.293-1.414-1.414,3.293-3.293c.779-.779,2.049-.779,2.828,0l3.293,3.293-1.414,1.414Z"/></svg><br>Choose Image</label>
              <span class="file-name" id="fileName" hidden></span>
            </div> 
            <label id="cameraButton"><svg xmlns="http://www.w3.org/2000/svg" class="icons-media" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24">
                <path d="m15,9h-6c-.552,0-1,.448-1,1v4c0,.552.448,1,1,1h6c.552,0,1-.448,1-1v-4c0-.552-.448-1-1-1Zm-3,5c-1.105,0-2-.895-2-2s.895-2,2-2,2,.895,2,2-.895,2-2,2Zm0-14C5.383,0,0,5.383,0,12s5.383,12,12,12,12-5.383,12-12S18.617,0,12,0Zm6,14c0,1.654-1.346,3-3,3h-6c-1.654,0-3-1.346-3-3v-4c0-1.639,1.321-2.974,2.953-2.999l.696-1.083c.368-.574.997-.918,1.682-.918h1.338c.685,0,1.313.344,1.683.919l.695,1.082c1.633.025,2.953,1.36,2.953,2.999v4Z"/>
              </svg><br>Camera</label>
          </span>
        

        </div>
      </div>
    <!-- Camera elements -->
    <video id="cameraFeed" style="display: none;"></video>
    <canvas id="canvas" style="display: none;"></canvas>
    <img id="preview" src="" alt="Image Preview" style="display: none;">
    <!-- <div class="upload-container">
        <div class="custom-upload">
            <input type="file" id="fileInput" accept="image/*" />
            <label for="fileInput">Choose File</label>
            <span class="file-name" id="fileName">No file chosen</span>
        </div>
    </div> -->
    <div class="buttonContainer">
        
<button type="button" class="upload-button" id="uploadButton" disabled>
    Upload Image
</button>
    </div><br>
    <div class="imgContainer" id="imgContainer"></div>


                <!-- <input type="file" id="fileInput" accept="image/*">
                
                <div class="media-buttons">
                    <button id="cameraButton">Use Camera</button>
                </div> -->
                <!-- <img id="preview" src="" alt="Image Preview" style="display: none;"/> -->
                <img id="preview" src="" alt="Image Preview" style="display: none;"/>

                <!-- <video id="cameraFeed" autoplay style="display: none;"></video>
                <canvas id="canvas" style="display: none;"></canvas> -->
            </div>
        </div>
        
        <!-- <div class="form-group">
            <label>Features</label>
            <div class="features-group">
                <label class="feature-item">
                    <input type="checkbox" name="features" value="covered" checked>
                    Covered
                </label>
                <label class="feature-item">
                    <input type="checkbox" name="features" value="ev_charging">
                    EV Charging
                </label>
            </div> -->
            
            <div class="form-group">
                <label>Available</label>
                <div class="toggle-container">
                    <label class="toggle-switch">
                        <input type="checkbox" id="availabilityToggle" checked>
                        <span class="slider"></span>
                    </label>
                    <span id="availabilityStatus">Available</span>
                </div>
            </div>

            <div class="form-group">
                <label>Weekly Availability</label>
                <div class="day-container" id="availabilityContainer">
                    <!-- Pre-filled days will be added dynamically -->
                </div>
                <div id="availabilityError" class="error-message" style="display: none;"></div>
            </div>

            <div class="section">
                <button type="submit" class="update-btn">Update Listing</button>
            </div>
        </div>
    </div>
    <footer>
        <h3>Contact Us</h3>
        <p>Email: <a href="mailto:parksmart@gmail.com">parksmart@gmail.com</a></p>
        <div class="socialMediaContainer">
          <img
            src="../userPages/Assets/vecteezy_facebook-logo-png-facebook-icon-transparent-png_18930698.png"
            alt=""
          />
          <img
            src="../userPages/Assets/vecteezy_instagram-logo-png-instagram-icon-transparent_18930415.png"
            alt=""
          />
          <img
            src="../userPages/Assets/vecteezy_twitter-new-logo-twitter-icons-new-twitter-logo-x-2023-x_31737215.png"
            alt=""
          />
        </div>
        <p>&copy; 2025 Team ParkSmart. All Rights Reserved.</p>
      </footer>
</body>
</html>